<?php 
$paleta_de_colores=[
	'rgba(60, 100, 148, 0.9)',
	'rgba(150, 61, 59, 0.9)',
	'rgba(121, 146, 68, 0.9)',
	'rgba(99, 77, 126, 0.9)',
	'rgba(57, 134, 155, 0.9)',
	'rgba(194, 117, 53, 0.9)',
	'rgba(120, 120, 120, 0.9)',
	'rgba(60, 100, 148, 0.8)',
	'rgba(150, 61, 59, 0.8)',
	'rgba(121, 146, 68, 0.8)',
	'rgba(99, 77, 126, 0.8)',
	'rgba(57, 134, 155, 0.8)',
	'rgba(194, 117, 53, 0.8)',
	'rgba(120, 120, 120, 0.8)',
	'rgba(60, 100, 148, 0.7)',
	'rgba(150, 61, 59, 0.7)',
	'rgba(121, 146, 68, 0.7)',
	'rgba(99, 77, 126, 0.7)',
	'rgba(57, 134, 155, 0.7)',
	'rgba(194, 117, 53, 0.7)',
	'rgba(120, 120, 120, 0.7)',
	'rgba(60, 100, 148, 0.6)',
	'rgba(150, 61, 59, 0.6)',
	'rgba(121, 146, 68, 0.6)',
	'rgba(99, 77, 126, 0.6)',
	'rgba(57, 134, 155, 0.6)',
	'rgba(194, 117, 53, 0.6)',
	'rgba(120, 120, 120, 0.6)',
	'rgba(60, 100, 148, 0.5)',
	'rgba(150, 61, 59, 0.5)',
	'rgba(121, 146, 68, 0.5)',
	'rgba(99, 77, 126, 0.5)',
	'rgba(57, 134, 155, 0.5)',
	'rgba(194, 117, 53, 0.5)',
	'rgba(120, 120, 120, 0.5)',
	'rgba(60, 100, 148, 0.4)',
	'rgba(150, 61, 59, 0.4)',
	'rgba(121, 146, 68, 0.4)',
	'rgba(99, 77, 126, 0.4)',
	'rgba(57, 134, 155, 0.4)',
	'rgba(194, 117, 53, 0.4)',
	'rgba(120, 120, 120, 0.4)',
	'rgba(60, 100, 148, 0.3)',
	'rgba(150, 61, 59, 0.3)',
	'rgba(121, 146, 68, 0.3)',
	'rgba(99, 77, 126, 0.3)',
	'rgba(57, 134, 155, 0.3)',
	'rgba(194, 117, 53, 0.3)',
	'rgba(120, 120, 120, 0.3)',
	'rgba(60, 100, 148, 0.2)',
	'rgba(150, 61, 59, 0.2)',
	'rgba(121, 146, 68, 0.2)',
	'rgba(99, 77, 126, 0.2)',
	'rgba(57, 134, 155, 0.2)',
	'rgba(194, 117, 53, 0.2)',
	'rgba(120, 120, 120, 0.2)',
	'rgba(60, 100, 148, 0.1)',
	'rgba(150, 61, 59, 0.1)',
	'rgba(121, 146, 68, 0.1)',
	'rgba(99, 77, 126, 0.1)',
	'rgba(57, 134, 155, 0.1)',
	'rgba(194, 117, 53, 0.1)',
	'rgba(120, 120, 120, 0.1)',
	'rgba(60, 100, 148, 0.9)',
	'rgba(150, 61, 59, 0.9)',
	'rgba(121, 146, 68, 0.9)',
	'rgba(99, 77, 126, 0.9)',
	'rgba(57, 134, 155, 0.9)',
	'rgba(194, 117, 53, 0.9)',
	'rgba(120, 120, 120, 0.9)',
	'rgba(60, 100, 148, 0.8)',
	'rgba(150, 61, 59, 0.8)',
	'rgba(121, 146, 68, 0.8)',
	'rgba(99, 77, 126, 0.8)',
	'rgba(57, 134, 155, 0.8)',
	'rgba(194, 117, 53, 0.8)',
	'rgba(120, 120, 120, 0.8)',
	'rgba(60, 100, 148, 0.7)',
	'rgba(150, 61, 59, 0.7)',
	'rgba(121, 146, 68, 0.7)',
	'rgba(99, 77, 126, 0.7)',
	'rgba(57, 134, 155, 0.7)',
	'rgba(194, 117, 53, 0.7)',
	'rgba(120, 120, 120, 0.7)',
	'rgba(60, 100, 148, 0.6)',
	'rgba(150, 61, 59, 0.6)',
	'rgba(121, 146, 68, 0.6)',
	'rgba(99, 77, 126, 0.6)',
	'rgba(57, 134, 155, 0.6)',
	'rgba(194, 117, 53, 0.6)',
	'rgba(120, 120, 120, 0.6)',
	'rgba(60, 100, 148, 0.5)',
	'rgba(150, 61, 59, 0.5)',
	'rgba(121, 146, 68, 0.5)',
	'rgba(99, 77, 126, 0.5)',
	'rgba(57, 134, 155, 0.5)',
	'rgba(194, 117, 53, 0.5)',
	'rgba(120, 120, 120, 0.5)',
	'rgba(60, 100, 148, 0.4)',
	'rgba(150, 61, 59, 0.4)',
	'rgba(121, 146, 68, 0.4)',
	'rgba(99, 77, 126, 0.4)',
	'rgba(57, 134, 155, 0.4)',
	'rgba(194, 117, 53, 0.4)',
	'rgba(120, 120, 120, 0.4)',
	'rgba(60, 100, 148, 0.3)',
	'rgba(150, 61, 59, 0.3)',
	'rgba(121, 146, 68, 0.3)',
	'rgba(99, 77, 126, 0.3)',
	'rgba(57, 134, 155, 0.3)',
	'rgba(194, 117, 53, 0.3)',
	'rgba(120, 120, 120, 0.3)',
	'rgba(60, 100, 148, 0.2)',
	'rgba(150, 61, 59, 0.2)',
	'rgba(121, 146, 68, 0.2)',
	'rgba(99, 77, 126, 0.2)',
	'rgba(57, 134, 155, 0.2)',
	'rgba(194, 117, 53, 0.2)',
	'rgba(120, 120, 120, 0.2)',
	'rgba(60, 100, 148, 0.1)',
	'rgba(150, 61, 59, 0.1)',
	'rgba(121, 146, 68, 0.1)',
	'rgba(99, 77, 126, 0.1)',
	'rgba(57, 134, 155, 0.1)',
	'rgba(194, 117, 53, 0.1)',
	'rgba(120, 120, 120, 0.1)',
	'rgba(60, 100, 148, 0.9)',
	'rgba(150, 61, 59, 0.9)',
	'rgba(121, 146, 68, 0.9)',
	'rgba(99, 77, 126, 0.9)',
	'rgba(57, 134, 155, 0.9)',
	'rgba(194, 117, 53, 0.9)',
	'rgba(120, 120, 120, 0.9)',
	'rgba(60, 100, 148, 0.8)',
	'rgba(150, 61, 59, 0.8)',
	'rgba(121, 146, 68, 0.8)',
	'rgba(99, 77, 126, 0.8)',
	'rgba(57, 134, 155, 0.8)',
	'rgba(194, 117, 53, 0.8)',
	'rgba(120, 120, 120, 0.8)',
	'rgba(60, 100, 148, 0.7)',
	'rgba(150, 61, 59, 0.7)',
	'rgba(121, 146, 68, 0.7)',
	'rgba(99, 77, 126, 0.7)',
	'rgba(57, 134, 155, 0.7)',
	'rgba(194, 117, 53, 0.7)',
	'rgba(120, 120, 120, 0.7)',
	'rgba(60, 100, 148, 0.6)',
	'rgba(150, 61, 59, 0.6)',
	'rgba(121, 146, 68, 0.6)',
	'rgba(99, 77, 126, 0.6)',
	'rgba(57, 134, 155, 0.6)',
	'rgba(194, 117, 53, 0.6)',
	'rgba(120, 120, 120, 0.6)',
	'rgba(60, 100, 148, 0.5)',
	'rgba(150, 61, 59, 0.5)',
	'rgba(121, 146, 68, 0.5)',
	'rgba(99, 77, 126, 0.5)',
	'rgba(57, 134, 155, 0.5)',
	'rgba(194, 117, 53, 0.5)',
	'rgba(120, 120, 120, 0.5)',
	'rgba(60, 100, 148, 0.4)',
	'rgba(150, 61, 59, 0.4)',
	'rgba(121, 146, 68, 0.4)',
	'rgba(99, 77, 126, 0.4)',
	'rgba(57, 134, 155, 0.4)',
	'rgba(194, 117, 53, 0.4)',
	'rgba(120, 120, 120, 0.4)',
	'rgba(60, 100, 148, 0.3)',
	'rgba(150, 61, 59, 0.3)',
	'rgba(121, 146, 68, 0.3)',
	'rgba(99, 77, 126, 0.3)',
	'rgba(57, 134, 155, 0.3)',
	'rgba(194, 117, 53, 0.3)',
	'rgba(120, 120, 120, 0.3)',
	'rgba(60, 100, 148, 0.2)',
	'rgba(150, 61, 59, 0.2)',
	'rgba(121, 146, 68, 0.2)',
	'rgba(99, 77, 126, 0.2)',
	'rgba(57, 134, 155, 0.2)',
	'rgba(194, 117, 53, 0.2)',
	'rgba(120, 120, 120, 0.2)',
	'rgba(60, 100, 148, 0.1)',
	'rgba(150, 61, 59, 0.1)',
	'rgba(121, 146, 68, 0.1)',
	'rgba(99, 77, 126, 0.1)',
	'rgba(57, 134, 155, 0.1)',
	'rgba(194, 117, 53, 0.1)',
	'rgba(120, 120, 120, 0.1)',
	'rgba(60, 100, 148, 0.9)',
	'rgba(150, 61, 59, 0.9)',
	'rgba(121, 146, 68, 0.9)',
	'rgba(99, 77, 126, 0.9)',
	'rgba(57, 134, 155, 0.9)',
	'rgba(194, 117, 53, 0.9)',
	'rgba(120, 120, 120, 0.9)',
	'rgba(60, 100, 148, 0.8)',
	'rgba(150, 61, 59, 0.8)',
	'rgba(121, 146, 68, 0.8)',
	'rgba(99, 77, 126, 0.8)',
	'rgba(57, 134, 155, 0.8)',
	'rgba(194, 117, 53, 0.8)',
	'rgba(120, 120, 120, 0.8)',
	'rgba(60, 100, 148, 0.7)',
	'rgba(150, 61, 59, 0.7)',
	'rgba(121, 146, 68, 0.7)',
	'rgba(99, 77, 126, 0.7)',
	'rgba(57, 134, 155, 0.7)',
	'rgba(194, 117, 53, 0.7)',
	'rgba(120, 120, 120, 0.7)',
	'rgba(60, 100, 148, 0.6)',
	'rgba(150, 61, 59, 0.6)',
	'rgba(121, 146, 68, 0.6)',
	'rgba(99, 77, 126, 0.6)',
	'rgba(57, 134, 155, 0.6)',
	'rgba(194, 117, 53, 0.6)',
	'rgba(120, 120, 120, 0.6)',
	'rgba(60, 100, 148, 0.5)',
	'rgba(150, 61, 59, 0.5)',
	'rgba(121, 146, 68, 0.5)',
	'rgba(99, 77, 126, 0.5)',
	'rgba(57, 134, 155, 0.5)',
	'rgba(194, 117, 53, 0.5)',
	'rgba(120, 120, 120, 0.5)',
	'rgba(60, 100, 148, 0.4)',
	'rgba(150, 61, 59, 0.4)',
	'rgba(121, 146, 68, 0.4)',
	'rgba(99, 77, 126, 0.4)',
	'rgba(57, 134, 155, 0.4)',
	'rgba(194, 117, 53, 0.4)',
	'rgba(120, 120, 120, 0.4)',
	'rgba(60, 100, 148, 0.3)',
	'rgba(150, 61, 59, 0.3)',
	'rgba(121, 146, 68, 0.3)',
	'rgba(99, 77, 126, 0.3)',
	'rgba(57, 134, 155, 0.3)',
	'rgba(194, 117, 53, 0.3)',
	'rgba(120, 120, 120, 0.3)',
	'rgba(60, 100, 148, 0.2)',
	'rgba(150, 61, 59, 0.2)',
	'rgba(121, 146, 68, 0.2)',
	'rgba(99, 77, 126, 0.2)',
	'rgba(57, 134, 155, 0.2)',
	'rgba(194, 117, 53, 0.2)',
	'rgba(120, 120, 120, 0.2)',
	'rgba(60, 100, 148, 0.1)',
	'rgba(150, 61, 59, 0.1)',
	'rgba(121, 146, 68, 0.1)',
	'rgba(99, 77, 126, 0.1)',
	'rgba(57, 134, 155, 0.1)',
	'rgba(194, 117, 53, 0.1)',
	'rgba(120, 120, 120, 0.1)'
];
//ESTA SUB RUTINA IMPRIME LAS GRAFICAS PARA INDICADORES-GANANCIAS
if(isset($_POST['continente']) and isset($_POST['pais'])){
	$continente=$_POST['continente'];
	$pais=$_POST['pais'];
	require_once ("M_todos.php");
	//OBTENIENDO DATOS PARA GRAFICAS DE BARRAS
	$sql_pais=($pais=="Todos") ? "" : "AND `datos_paises`.`PAIS`='$pais'";
	if($pais<>"Todos"){
		$sql_continente="";
	}else{
		$sql_continente=($continente=="Todos") ? "" : "AND `datos_paises`.`CONTINENTE`='$continente'";
	}
	$consulta="SELECT `datos_diarios`.`FECHA` AS FECHA, SUM(`datos_diarios`.`CASOS`) AS CASOS, SUM(`datos_diarios`.`MUERTES`) AS MUERTES, SUM(`datos_diarios`.`RECUPERADOS`) AS RECUPERADOS FROM `datos_diarios` INNER JOIN `datos_paises` ON `datos_diarios`.`COD`=`datos_paises`.`COD` WHERE 1 $sql_continente $sql_pais GROUP BY `FECHA` ORDER BY `FECHA` ASC";
	$resultados=mysqli_query($conexion,$consulta);
	$cont=0;
	$datos[$cont]['FECHA']="0000-00-00";
	$datos_puntuales[$cont]['CASOS']=0;
	$datos_puntuales[$cont]['MUERTES']=0;
	$datos_puntuales[$cont]['RECUPERADOS']=0;
	$datos_acumulados[$cont]['CASOS']=0;
	$datos_acumulados[$cont]['MUERTES']=0;
	$datos_acumulados[$cont]['RECUPERADOS']=0;
	$datos_acumulados[$cont]['ACTIVOS']=0;
	$datos_acumulados[$cont]['MUERTES_POR_CASO']=0;
	while(($fila=mysqli_fetch_array($resultados))==true){
		$datos[$cont]['FECHA']=$fila['FECHA'];
		$datos_puntuales[$cont]['CASOS']=$fila['CASOS'];
		$datos_puntuales[$cont]['MUERTES']=$fila['MUERTES'];
		$datos_puntuales[$cont]['RECUPERADOS']=$fila['RECUPERADOS'];
		if($cont==0){
			$datos_acumulados[$cont]['CASOS']=$fila['CASOS'];
			$datos_acumulados[$cont]['MUERTES']=$fila['MUERTES'];
			$datos_acumulados[$cont]['RECUPERADOS']=$fila['RECUPERADOS'];
			$datos_acumulados[$cont]['ACTIVOS']=$fila['CASOS']-$fila['RECUPERADOS']-$fila['MUERTES'];
		}else{
			$datos_acumulados[$cont]['CASOS']=$datos_acumulados[$cont-1]['CASOS'] + $fila['CASOS'];
			$datos_acumulados[$cont]['MUERTES']=$datos_acumulados[$cont-1]['MUERTES'] + $fila['MUERTES'];
			$datos_acumulados[$cont]['RECUPERADOS']=$datos_acumulados[$cont-1]['RECUPERADOS'] + $fila['RECUPERADOS'];
			$datos_acumulados[$cont]['ACTIVOS']=$datos_acumulados[$cont]['CASOS']-$datos_acumulados[$cont]['RECUPERADOS']-$datos_acumulados[$cont]['MUERTES'];
		}
		if($datos_acumulados[$cont]['CASOS']==0){
			$datos_acumulados[$cont]['MUERTES_POR_CASO']=0;
		}else{
			$datos_acumulados[$cont]['MUERTES_POR_CASO']=$datos_acumulados[$cont]['MUERTES']*100/$datos_acumulados[$cont]['CASOS'];
		}
		$cont++;
	}
	$largo_datos=$cont-1;
	//OBTENIENDO DATOS PARA GRAFICAS DE TORTAS
	$sql_continente=($continente=="Todos") ? "" : "AND `datos_paises`.`CONTINENTE`='$continente'";
	$sql_pais=($pais=="Todos") ? "" : "AND `datos_paises`.`PAIS`='$pais'";
	//DATOS POR CONTINENTE
	$consulta="SELECT `datos_paises`.`CONTINENTE` AS CONTINENTE, SUM(`datos_diarios`.`CASOS`) AS CASOS, SUM(`datos_diarios`.`MUERTES`) AS MUERTES, SUM(`datos_diarios`.`RECUPERADOS`) AS RECUPERADOS FROM `datos_diarios` INNER JOIN `datos_paises` ON `datos_diarios`.`COD`=`datos_paises`.`COD` WHERE 1 $sql_continente $sql_pais GROUP BY `CONTINENTE` ORDER BY `CASOS` DESC";
	$resultados=mysqli_query($conexion,$consulta);
	$cont=0;
	$continenetes[$cont]['CONTINENTE']=0;
	$continenetes[$cont]['CASOS']=0;
	$continenetes[$cont]['MUERTES']=0;
	$continenetes[$cont]['RECUPERADOS']=0;
	$continenetes[$cont]['ACTIVOS']=0;
	while(($fila=mysqli_fetch_array($resultados))==true){
		$continenetes[$cont]['CONTINENTE']=$fila['CONTINENTE'];
		$continenetes[$cont]['CASOS']=$fila['CASOS'];
		$continenetes[$cont]['MUERTES']=$fila['MUERTES'];
		$continenetes[$cont]['RECUPERADOS']=$fila['RECUPERADOS'];
		$continenetes[$cont]['ACTIVOS']=$fila['CASOS']-$fila['RECUPERADOS']-$fila['MUERTES'];
		$cont++;
	}
	$consulta="SELECT `datos_paises`.`PAIS` AS PAIS, SUM(`datos_diarios`.`CASOS`) AS CASOS, SUM(`datos_diarios`.`MUERTES`) AS MUERTES, SUM(`datos_diarios`.`RECUPERADOS`) AS RECUPERADOS FROM `datos_diarios` INNER JOIN `datos_paises` ON `datos_diarios`.`COD`=`datos_paises`.`COD` WHERE 1 $sql_continente $sql_pais GROUP BY `PAIS` ORDER BY `CASOS` DESC, `MUERTES` DESC, `PAIS` ASC";
	$resultados=mysqli_query($conexion,$consulta);
	$cont=0;
	$paises[$cont]['PAIS']=0;
	$paises[$cont]['CASOS']=0;
	$paises[$cont]['MUERTES']=0;
	$paises[$cont]['RECUPERADOS']=0;
	$paises[$cont]['ACTIVOS']=0;
	while(($fila=mysqli_fetch_array($resultados))==true){
		$paises[$cont]['PAIS']=$fila['PAIS'];
		$paises[$cont]['CASOS']=$fila['CASOS'];
		$paises[$cont]['MUERTES']=$fila['MUERTES'];
		$paises[$cont]['RECUPERADOS']=$fila['RECUPERADOS'];
		$paises[$cont]['ACTIVOS']=$fila['CASOS']-$fila['RECUPERADOS']-$fila['MUERTES'];
		$cont++;
	}
	mysqli_close($conexion);
	if($pais<>"Todos"){// SI SE ELIGE EL PAIS NO IMPORTA EL CONTINENTE
		echo "
			<div class='row'>
				<div class='col-sm-6 pb-2'>
					<h6 class='text-center'><br>Nuevos Casos: <b>" . number_format($datos_puntuales[$largo_datos]['CASOS'], 0,'.',',') . "</b><br>Nuevas Muertes: <b>" .  number_format($datos_puntuales[$largo_datos]['MUERTES'], 0,'.',',') . "</b><br><br></h6>
					<canvas id='graf_puntual' class='border border-secondary'></canvas>
				</div>
				<div class='col-sm-6 pb-2'>
					<h6 class='text-center'>Total de Casos: <b>" . number_format($datos_acumulados[$largo_datos]['CASOS'], 0,'.',',') . "</b><br>Total de Muertes: <b>" . number_format($datos_acumulados[$largo_datos]['MUERTES'], 0,'.',',') . "</b><br>Total Recuperados: <b>" . number_format($datos_acumulados[$largo_datos]['RECUPERADOS'], 0,'.',',') . "</b><br>Total Activos: <b>" . number_format($datos_acumulados[$largo_datos]['ACTIVOS'], 0,'.',',') . "</b></h6>
					<canvas id='graf_acum' class='border border-secondary'></canvas>
				</div>
			</div>
		";
		echo "
			<script>
				var ctx = document.getElementById('graf_puntual').getContext('2d');
				var chart = new Chart(ctx, {
					type: 'bar',
					data: {
						labels: [";
		$i=0;
		while(isset($datos[$i]['FECHA'])){
			echo "'" . $datos[$i]['FECHA'] . "'";
			if(isset($datos[$i+1]['FECHA'])){
				echo ",";
			}
			$i++;
		}
		echo "          ],
						datasets: [{
							label: 'Casos',
							borderColor: 'rgb(60, 100, 148, 1)',
							backgroundColor: 'rgb(60, 100, 148, 0.8)',
							data: [
		";
		$i=0;
		while(isset($datos[$i]['FECHA'])){
			echo "'" . $datos_puntuales[$i]['CASOS'] . "'";
			if(isset($datos[$i+1]['FECHA'])){
				echo ",";
			}
			$i++;
		}
		echo "
							]
						},
						{
							label: 'Muertes',
							borderColor: 'rgb(150, 61, 59, 1)',
							backgroundColor: 'rgb(150, 61, 59, 0.8)',
							data: [
		";
		$i=0;
		while(isset($datos[$i]['FECHA'])){
			echo "'" . $datos_puntuales[$i]['MUERTES'] . "'";
			if(isset($datos[$i+1]['FECHA'])){
				echo ",";
			}
			$i++;
		}
		echo "
							]
						},
						{
							label: 'Recuperados',
							borderColor: 'rgb(39, 113, 3, 1)',
							backgroundColor: 'rgb(39, 113, 3, 0.8)',
							data: [
		";
		$i=0;
		while(isset($datos[$i]['FECHA'])){
			echo "'" . $datos_puntuales[$i]['RECUPERADOS'] . "'";
			if(isset($datos[$i+1]['FECHA'])){
				echo ",";
			}
			$i++;
		}
		echo "
							]
						}]
					},
					options: {
						responsive: true,
						title: {
							display: true,
							text: 'Datos diarios Puntuales'
						},
						tooltips: {
							mode: 'index',
							intersect: false,
						},
						hover: {
							mode: 'nearest',
							intersect: true
						},
						scales: {
							xAxes: [{
								display: false,
								scaleLabel: {
									display: true,
									labelString: 'dia'
								}
							}],
							yAxes: [{
								display: false,
								scaleLabel: {
									display: true,
									labelString: ''
								}
							}]
						}
					}							
				});			
			</script>
		";
		echo "
			<script>
				var ctx = document.getElementById('graf_acum').getContext('2d');
				var chart = new Chart(ctx, {
					type: 'bar',
					data: {
						labels: [";
		$i=0;
		while(isset($datos[$i]['FECHA'])){
			echo "'" . $datos[$i]['FECHA'] . "'";
			if(isset($datos[$i+1]['FECHA'])){
				echo ",";
			}
			$i++;
		}
		echo "          ],
						datasets: [{
							label: 'Casos',
							borderColor: 'rgb(60, 100, 148, 1)',
							backgroundColor: 'rgb(60, 100, 148, 0.8)',
							data: [
		";
		$i=0;
		while(isset($datos[$i]['FECHA'])){
			echo "'" . $datos_acumulados[$i]['CASOS'] . "'";
			if(isset($datos[$i+1]['FECHA'])){
				echo ",";
			}
			$i++;
		}
		echo "
							]
						},
						{
							label: 'Muertes',
							borderColor: 'rgb(150, 61, 59, 1)',
							backgroundColor: 'rgb(150, 61, 59, 0.8)',
							data: [
		";
		$i=0;
		while(isset($datos[$i]['FECHA'])){
			echo "'" . $datos_acumulados[$i]['MUERTES'] . "'";
			if(isset($datos[$i+1]['FECHA'])){
				echo ",";
			}
			$i++;
		}
		echo "
							]
						},
						{
							label: 'Recuperados',
							borderColor: 'rgb(39, 113, 3, 1)',
							backgroundColor: 'rgb(39, 113, 3, 0.8)',
							data: [
		";
		$i=0;
		while(isset($datos[$i]['FECHA'])){
			echo "'" . $datos_acumulados[$i]['RECUPERADOS'] . "'";
			if(isset($datos[$i+1]['FECHA'])){
				echo ",";
			}
			$i++;
		}
		echo "
							]
						},
						{
							label: 'Activos',
							borderColor: 'rgb(255, 134, 35, 1)',
							backgroundColor: 'rgb(255, 134, 35, 0.8)',
							data: [
		";
		$i=0;
		while(isset($datos[$i]['FECHA'])){
			echo "'" . $datos_acumulados[$i]['ACTIVOS'] . "'";
			if(isset($datos[$i+1]['FECHA'])){
				echo ",";
			}
			$i++;
		}
		echo "
							]
						}]
					},
					options: {
						responsive: true,
						title: {
							display: true,
							text: 'Datos diarios Acumulados'
						},
						tooltips: {
							mode: 'index',
							intersect: false,
						},
						hover: {
							mode: 'nearest',
							intersect: true
						},
						scales: {
							xAxes: [{
								display: false,
								scaleLabel: {
									display: true,
									labelString: 'dia'
								}
							}],
							yAxes: [{
								display: false,
								scaleLabel: {
									display: true,
									labelString: ''
								}
							}]
						}
					}							
				});			
			</script>
		";
	}
	else if($pais=="Todos" and $continente<>"Todos"){
		echo "
			<div class='row'>
				<div class='col-md-4 pb-2'>
					<h6 class='text-center'><br>Nuevos Casos: <b>" . number_format($datos_puntuales[$largo_datos]['CASOS'], 0,'.',',') . "</b><br>Nuevas Muertes: <b>" .  number_format($datos_puntuales[$largo_datos]['MUERTES'], 0,'.',',') . "</b><br><br></h6>
					<canvas id='graf_puntual' class='border border-secondary'></canvas>
				</div>
				<div class='col-md-4 pb-2'>
					<h6 class='text-center'>Total de Casos: <b>" . number_format($datos_acumulados[$largo_datos]['CASOS'], 0,'.',',') . "</b><br>Total de Muertes: <b>" . number_format($datos_acumulados[$largo_datos]['MUERTES'], 0,'.',',') . "</b><br>Total Recuperados: <b>" . number_format($datos_acumulados[$largo_datos]['RECUPERADOS'], 0,'.',',') . "</b><br>Total Activos: <b>" . number_format($datos_acumulados[$largo_datos]['ACTIVOS'], 0,'.',',') . "</b></h6>
					<canvas id='graf_acum' class='border border-secondary'></canvas>
				</div>
				<div class='col-md-4 pb-2'>
					<h6 class='text-center'><br>Casos / Muertes: <b><br>";
		if($datos_acumulados[$largo_datos]['CASOS']=="0"){
			echo number_format(0, 2,'.',',');
		}else{
			echo number_format($datos_acumulados[$largo_datos]['MUERTES']*100/$datos_acumulados[$largo_datos]['CASOS'], 2,'.',',');
		}
		echo "		%</b><br><br></h6>
					<canvas id='graf_pais' class='border border-secondary'></canvas>
				</div>
			</div>
		";
		echo "
			<script>
				var ctx = document.getElementById('graf_puntual').getContext('2d');
				var chart = new Chart(ctx, {
					type: 'bar',
					data: {
						labels: [";
		$i=0;
		while(isset($datos[$i]['FECHA'])){
			echo "'" . $datos[$i]['FECHA'] . "'";
			if(isset($datos[$i+1]['FECHA'])){
				echo ",";
			}
			$i++;
		}
		echo "          ],
						datasets: [{
							label: 'Casos',
							borderColor: 'rgb(60, 100, 148, 1)',
							backgroundColor: 'rgb(60, 100, 148, 0.8)',
							data: [
		";
		$i=0;
		while(isset($datos[$i]['FECHA'])){
			echo "'" . $datos_puntuales[$i]['CASOS'] . "'";
			if(isset($datos[$i+1]['FECHA'])){
				echo ",";
			}
			$i++;
		}
		echo "
							]
						},
						{
							label: 'Muertes',
							borderColor: 'rgb(150, 61, 59, 1)',
							backgroundColor: 'rgb(150, 61, 59, 0.8)',
							data: [
		";
		$i=0;
		while(isset($datos[$i]['FECHA'])){
			echo "'" . $datos_puntuales[$i]['MUERTES'] . "'";
			if(isset($datos[$i+1]['FECHA'])){
				echo ",";
			}
			$i++;
		}
		echo "
							]
						},
						{
							label: 'Recuperados',
							borderColor: 'rgb(39, 113, 3, 1)',
							backgroundColor: 'rgb(39, 113, 3, 0.8)',
							data: [
		";
		$i=0;
		while(isset($datos[$i]['FECHA'])){
			echo "'" . $datos_puntuales[$i]['RECUPERADOS'] . "'";
			if(isset($datos[$i+1]['FECHA'])){
				echo ",";
			}
			$i++;
		}
		echo "
							]
						}]
					},
					options: {
						responsive: true,
						title: {
							display: true,
							text: 'Datos diarios Puntuales'
						},
						tooltips: {
							mode: 'index',
							intersect: false,
						},
						hover: {
							mode: 'nearest',
							intersect: true
						},
						scales: {
							xAxes: [{
								display: false,
								scaleLabel: {
									display: true,
									labelString: 'dia'
								}
							}],
							yAxes: [{
								display: false,
								scaleLabel: {
									display: true,
									labelString: ''
								}
							}]
						}
					}							
				});			
			</script>
		";
		echo "
			<script>
				var ctx = document.getElementById('graf_acum').getContext('2d');
				var chart = new Chart(ctx, {
					type: 'bar',
					data: {
						labels: [";
		$i=0;
		while(isset($datos[$i]['FECHA'])){
			echo "'" . $datos[$i]['FECHA'] . "'";
			if(isset($datos[$i+1]['FECHA'])){
				echo ",";
			}
			$i++;
		}
		echo "          ],
						datasets: [{
							label: 'Casos',
							borderColor: 'rgb(60, 100, 148, 1)',
							backgroundColor: 'rgb(60, 100, 148, 0.8)',
							data: [
		";
		$i=0;
		while(isset($datos[$i]['FECHA'])){
			echo "'" . $datos_acumulados[$i]['CASOS'] . "'";
			if(isset($datos[$i+1]['FECHA'])){
				echo ",";
			}
			$i++;
		}
		echo "
							]
						},
						{
							label: 'Muertes',
							borderColor: 'rgb(150, 61, 59, 1)',
							backgroundColor: 'rgb(150, 61, 59, 0.8)',
							data: [
		";
		$i=0;
		while(isset($datos[$i]['FECHA'])){
			echo "'" . $datos_acumulados[$i]['MUERTES'] . "'";
			if(isset($datos[$i+1]['FECHA'])){
				echo ",";
			}
			$i++;
		}
		echo "
							]
						},
						{
							label: 'Recuperados',
							borderColor: 'rgb(39, 113, 3, 1)',
							backgroundColor: 'rgb(39, 113, 3, 0.8)',
							data: [
		";
		$i=0;
		while(isset($datos[$i]['FECHA'])){
			echo "'" . $datos_acumulados[$i]['RECUPERADOS'] . "'";
			if(isset($datos[$i+1]['FECHA'])){
				echo ",";
			}
			$i++;
		}
		echo "
							]
						},
						{
							label: 'Activos',
							borderColor: 'rgb(255, 134, 35, 1)',
							backgroundColor: 'rgb(255, 134, 35, 0.8)',
							data: [
		";
		$i=0;
		while(isset($datos[$i]['FECHA'])){
			echo "'" . $datos_acumulados[$i]['ACTIVOS'] . "'";
			if(isset($datos[$i+1]['FECHA'])){
				echo ",";
			}
			$i++;
		}
		echo "
							]
						}]
					},
					options: {
						responsive: true,
						title: {
							display: true,
							text: 'Datos diarios Acumulados'
						},
						tooltips: {
							mode: 'index',
							intersect: false,
						},
						hover: {
							mode: 'nearest',
							intersect: true
						},
						scales: {
							xAxes: [{
								display: false,
								scaleLabel: {
									display: true,
									labelString: 'dia'
								}
							}],
							yAxes: [{
								display: false,
								scaleLabel: {
									display: true,
									labelString: ''
								}
							}]
						}
					}							
				});			
			</script>
		";
		echo "
			<script>
				var ctx = document.getElementById('graf_pais').getContext('2d');
				var chart = new Chart(ctx, {
					type: 'bar',
					data: {
						labels: [";
		$i=0;
		while(isset($paises[$i]['PAIS']) and $i<20){
			echo "'" . $paises[$i]['PAIS'] . "'";
			if(isset($paises[$i+1]['PAIS'])){
				echo ",";
			}
			$i++;
		}
		echo "          ],
						datasets: [{
							label: 'Casos',
							borderColor: 'rgb(60, 100, 148, 1)',
							backgroundColor: 'rgb(60, 100, 148, 0.8)',
							data: [
		";
		$i=0;
		while(isset($paises[$i]['PAIS']) and $i<20){
			echo "'" . $paises[$i]['CASOS'] . "'";
			if(isset($paises[$i+1]['PAIS'])){
				echo ",";
			}
			$i++;
		}
		echo "
							]
						},
						{
							label: 'Muertes',
							borderColor: 'rgb(150, 61, 59, 1)',
							backgroundColor: 'rgb(150, 61, 59, 0.8)',
							data: [
		";
		$i=0;
		while(isset($paises[$i]['PAIS']) and $i<20){
			echo "'" . $paises[$i]['MUERTES'] . "'";
			if(isset($paises[$i+1]['PAIS'])){
				echo ",";
			}
			$i++;
		}
		echo "
							]
						},
						{
							label: 'Recuperados',
							borderColor: 'rgb(39, 113, 3, 1)',
							backgroundColor: 'rgb(39, 113, 3, 0.8)',
							data: [
		";
		$i=0;
		while(isset($paises[$i]['PAIS']) and $i<20){
			echo "'" . $paises[$i]['RECUPERADOS'] . "'";
			if(isset($paises[$i+1]['PAIS'])){
				echo ",";
			}
			$i++;
		}
		echo "
							]
						},
						{
							label: 'Activos',
							borderColor: 'rgb(255, 134, 35, 1)',
							backgroundColor: 'rgb(255, 134, 35, 0.8)',
							data: [
		";
		$i=0;
		while(isset($paises[$i]['PAIS']) and $i<20){
			echo "'" . $paises[$i]['ACTIVOS'] . "'";
			if(isset($paises[$i+1]['PAIS'])){
				echo ",";
			}
			$i++;
		}
		echo "
							]
						}]
					},
					options: {
						responsive: true,
						title: {
							display: true,
							text: 'Países más Afectados (+20)'
						},
						tooltips: {
							mode: 'index',
							intersect: false,
						},
						hover: {
							mode: 'nearest',
							intersect: true
						},
						scales: {
							xAxes: [{
								display: false,
								scaleLabel: {
									display: true,
									labelString: 'País'
								}
							}],
							yAxes: [{
								display: false,
								scaleLabel: {
									display: true,
									labelString: ''
								}
							}]
						}
					}							
				});			
			</script>
		";
	}
	else{
		echo "
			<div class='row'>
				<div class='col-sm-6 pb-2'>
					<h6 class='text-center'><br>Nuevos Casos: <b>" . number_format($datos_puntuales[$largo_datos]['CASOS'], 0,'.',',') . "</b><br>Nuevas Muertes: <b>" .  number_format($datos_puntuales[$largo_datos]['MUERTES'], 0,'.',',') . "</b><br><br></h6>
					<canvas id='graf_puntual' class='border border-secondary'></canvas>
				</div>
				<div class='col-sm-6 pb-2'>
					<h6 class='text-center'>Total de Casos: <b>" . number_format($datos_acumulados[$largo_datos]['CASOS'], 0,'.',',') . "</b><br>Total de Muertes: <b>" . number_format($datos_acumulados[$largo_datos]['MUERTES'], 0,'.',',') . "</b><br>Total Recuperados: <b>" . number_format($datos_acumulados[$largo_datos]['RECUPERADOS'], 0,'.',',') . "</b><br>Total Activos: <b>" . number_format($datos_acumulados[$largo_datos]['ACTIVOS'], 0,'.',',') . "</b></h6>
					<canvas id='graf_acum' class='border border-secondary'></canvas>
				</div>
			</div>
		";
		echo "
			<script>
				var ctx = document.getElementById('graf_puntual').getContext('2d');
				var chart = new Chart(ctx, {
					type: 'bar',
					data: {
						labels: [";
		$i=0;
		while(isset($datos[$i]['FECHA'])){
			echo "'" . $datos[$i]['FECHA'] . "'";
			if(isset($datos[$i+1]['FECHA'])){
				echo ",";
			}
			$i++;
		}
		echo "          ],
						datasets: [{
							label: 'Casos',
							borderColor: 'rgb(60, 100, 148, 1)',
							backgroundColor: 'rgb(60, 100, 148, 0.8)',
							data: [
		";
		$i=0;
		while(isset($datos[$i]['FECHA'])){
			echo "'" . $datos_puntuales[$i]['CASOS'] . "'";
			if(isset($datos[$i+1]['FECHA'])){
				echo ",";
			}
			$i++;
		}
		echo "
							]
						},
						{
							label: 'Muertes',
							borderColor: 'rgb(150, 61, 59, 1)',
							backgroundColor: 'rgb(150, 61, 59, 0.8)',
							data: [
		";
		$i=0;
		while(isset($datos[$i]['FECHA'])){
			echo "'" . $datos_puntuales[$i]['MUERTES'] . "'";
			if(isset($datos[$i+1]['FECHA'])){
				echo ",";
			}
			$i++;
		}
		echo "
							]
						},
						{
							label: 'Recuperados',
							borderColor: 'rgb(39, 113, 3, 1)',
							backgroundColor: 'rgb(39, 113, 3, 0.8)',
							data: [
		";
		$i=0;
		while(isset($datos[$i]['FECHA'])){
			echo "'" . $datos_puntuales[$i]['RECUPERADOS'] . "'";
			if(isset($datos[$i+1]['FECHA'])){
				echo ",";
			}
			$i++;
		}
		echo "
							]
						}]
					},
					options: {
						responsive: true,
						title: {
							display: true,
							text: 'Datos diarios Puntuales'
						},
						tooltips: {
							mode: 'index',
							intersect: false,
						},
						hover: {
							mode: 'nearest',
							intersect: true
						},
						scales: {
							xAxes: [{
								display: false,
								scaleLabel: {
									display: true,
									labelString: 'dia'
								}
							}],
							yAxes: [{
								display: false,
								scaleLabel: {
									display: true,
									labelString: ''
								}
							}]
						}
					}							
				});			
			</script>
		";
		echo "
			<script>
				var ctx = document.getElementById('graf_acum').getContext('2d');
				var chart = new Chart(ctx, {
					type: 'bar',
					data: {
						labels: [";
		$i=0;
		while(isset($datos[$i]['FECHA'])){
			echo "'" . $datos[$i]['FECHA'] . "'";
			if(isset($datos[$i+1]['FECHA'])){
				echo ",";
			}
			$i++;
		}
		echo "          ],
						datasets: [{
							label: 'Casos',
							borderColor: 'rgb(60, 100, 148, 1)',
							backgroundColor: 'rgb(60, 100, 148, 0.8)',
							data: [
		";
		$i=0;
		while(isset($datos[$i]['FECHA'])){
			echo "'" . $datos_acumulados[$i]['CASOS'] . "'";
			if(isset($datos[$i+1]['FECHA'])){
				echo ",";
			}
			$i++;
		}
		echo "
							]
						},
						{
							label: 'Muertes',
							borderColor: 'rgb(150, 61, 59, 1)',
							backgroundColor: 'rgb(150, 61, 59, 0.8)',
							data: [
		";
		$i=0;
		while(isset($datos[$i]['FECHA'])){
			echo "'" . $datos_acumulados[$i]['MUERTES'] . "'";
			if(isset($datos[$i+1]['FECHA'])){
				echo ",";
			}
			$i++;
		}
		echo "
							]
						},
						{
							label: 'Recuperados',
							borderColor: 'rgb(39, 113, 3, 1)',
							backgroundColor: 'rgb(39, 113, 3, 0.8)',
							data: [
		";
		$i=0;
		while(isset($datos[$i]['FECHA'])){
			echo "'" . $datos_acumulados[$i]['RECUPERADOS'] . "'";
			if(isset($datos[$i+1]['FECHA'])){
				echo ",";
			}
			$i++;
		}
		echo "
							]
						},
						{
							label: 'Activos',
							borderColor: 'rgb(255, 134, 35, 1)',
							backgroundColor: 'rgb(255, 134, 35, 0.8)',
							data: [
		";
		$i=0;
		while(isset($datos[$i]['FECHA'])){
			echo "'" . $datos_acumulados[$i]['ACTIVOS'] . "'";
			if(isset($datos[$i+1]['FECHA'])){
				echo ",";
			}
			$i++;
		}
		echo "
							]
						}]
					},
					options: {
						responsive: true,
						title: {
							display: true,
							text: 'Datos diarios Acumulados'
						},
						tooltips: {
							mode: 'index',
							intersect: false,
						},
						hover: {
							mode: 'nearest',
							intersect: true
						},
						scales: {
							xAxes: [{
								display: false,
								scaleLabel: {
									display: true,
									labelString: 'dia'
								}
							}],
							yAxes: [{
								display: false,
								scaleLabel: {
									display: true,
									labelString: ''
								}
							}]
						}
					}							
				});			
			</script>
		";
		echo "
			<div class='row'>
				<div class='col-sm-6 pb-2'>
					<canvas id='graf_continente' class='border border-secondary'></canvas>
				</div>
				<div class='col-sm-6 pb-2'>
					<canvas id='graf_pais' class='border border-secondary'></canvas>
				</div>
			</div>
		";
		echo "
			<script>
				var ctx = document.getElementById('graf_continente').getContext('2d');
				var chart = new Chart(ctx, {
					type: 'bar',
					data: {
						labels: [";
		$i=0;
		while(isset($continenetes[$i]['CONTINENTE'])){
			echo "'" . $continenetes[$i]['CONTINENTE'] . "'";
			if(isset($continenetes[$i+1]['CONTINENTE'])){
				echo ",";
			}
			$i++;
		}
		echo "          ],
						datasets: [{
							label: 'Casos',
							borderColor: 'rgb(60, 100, 148, 1)',
							backgroundColor: 'rgb(60, 100, 148, 0.8)',
							data: [
		";
		$i=0;
		while(isset($continenetes[$i]['CONTINENTE'])){
			echo "'" . $continenetes[$i]['CASOS'] . "'";
			if(isset($continenetes[$i+1]['CONTINENTE'])){
				echo ",";
			}
			$i++;
		}
		echo "
							]
						},
						{
							label: 'Muertes',
							borderColor: 'rgb(150, 61, 59, 1)',
							backgroundColor: 'rgb(150, 61, 59, 0.8)',
							data: [
		";
		$i=0;
		while(isset($continenetes[$i]['CONTINENTE'])){
			echo "'" . $continenetes[$i]['MUERTES'] . "'";
			if(isset($continenetes[$i+1]['CONTINENTE'])){
				echo ",";
			}
			$i++;
		}
		echo "
							]
						},
						{
							label: 'Recuperados',
							borderColor: 'rgb(39, 113, 3, 1)',
							backgroundColor: 'rgb(39, 113, 3, 0.8)',
							data: [
		";
		$i=0;
		while(isset($continenetes[$i]['CONTINENTE']) and $i<20){
			echo "'" . $continenetes[$i]['RECUPERADOS'] . "'";
			if(isset($continenetes[$i+1]['CONTINENTE'])){
				echo ",";
			}
			$i++;
		}
		echo "
							]
						},
						{
							label: 'Activos',
							borderColor: 'rgb(255, 134, 35, 1)',
							backgroundColor: 'rgb(255, 134, 35, 0.8)',
							data: [
		";
		$i=0;
		while(isset($continenetes[$i]['CONTINENTE']) and $i<20){
			echo "'" . $continenetes[$i]['ACTIVOS'] . "'";
			if(isset($continenetes[$i+1]['CONTINENTE'])){
				echo ",";
			}
			$i++;
		}
		echo "
							]
						}]
					},
					options: {
						responsive: true,
						title: {
							display: true,
							text: 'Datos por Continente'
						},
						tooltips: {
							mode: 'index',
							intersect: false,
						},
						hover: {
							mode: 'nearest',
							intersect: true
						},
						scales: {
							xAxes: [{
								display: false,
								scaleLabel: {
									display: true,
									labelString: 'Continente'
								}
							}],
							yAxes: [{
								display: false,
								scaleLabel: {
									display: true,
									labelString: ''
								}
							}]
						}
					}							
				});			
			</script>
		";
		echo "
			<script>
				var ctx = document.getElementById('graf_pais').getContext('2d');
				var chart = new Chart(ctx, {
					type: 'bar',
					data: {
						labels: [";
		$i=0;
		while(isset($paises[$i]['PAIS']) and $i<20){
			$e=$i+1;
			echo "'" . $e . ") " . $paises[$i]['PAIS'] . "'";
			if(isset($paises[$i+1]['PAIS'])){
				echo ",";
			}
			$i++;
		}
		echo "          ],
						datasets: [{
							label: 'Casos',
							borderColor: 'rgb(60, 100, 148, 1)',
							backgroundColor: 'rgb(60, 100, 148, 0.8)',
							data: [
		";
		$i=0;
		while(isset($paises[$i]['PAIS']) and $i<20){
			echo "'" . $paises[$i]['CASOS'] . "'";
			if(isset($paises[$i+1]['PAIS'])){
				echo ",";
			}
			$i++;
		}
		echo "
							]
						},
						{
							label: 'Muertes',
							borderColor: 'rgb(150, 61, 59, 1)',
							backgroundColor: 'rgb(150, 61, 59, 0.8)',
							data: [
		";
		$i=0;
		while(isset($paises[$i]['PAIS']) and $i<20){
			echo "'" . $paises[$i]['MUERTES'] . "'";
			if(isset($paises[$i+1]['PAIS'])){
				echo ",";
			}
			$i++;
		}
		echo "
							]
						},
						{
							label: 'Recuperados',
							borderColor: 'rgb(39, 113, 3, 1)',
							backgroundColor: 'rgb(39, 113, 3, 0.8)',
							data: [
		";
		$i=0;
		while(isset($paises[$i]['PAIS']) and $i<20){
			echo "'" . $paises[$i]['RECUPERADOS'] . "'";
			if(isset($paises[$i+1]['PAIS'])){
				echo ",";
			}
			$i++;
		}
		echo "
							]
						},
						{
							label: 'Activos',
							borderColor: 'rgb(255, 134, 35, 1)',
							backgroundColor: 'rgb(255, 134, 35, 0.8)',
							data: [
		";
		$i=0;
		while(isset($paises[$i]['PAIS']) and $i<20){
			echo "'" . $paises[$i]['ACTIVOS'] . "'";
			if(isset($paises[$i+1]['PAIS'])){
				echo ",";
			}
			$i++;
		}
		echo "
							]
						}]
					},
					options: {
						responsive: true,
						title: {
							display: true,
							text: 'Países más Afectados (+20)'
						},
						tooltips: {
							mode: 'index',
							intersect: false,
						},
						hover: {
							mode: 'nearest',
							intersect: true
						},
						scales: {
							xAxes: [{
								display: false,
								scaleLabel: {
									display: true,
									labelString: 'País'
								}
							}],
							yAxes: [{
								display: false,
								scaleLabel: {
									display: true,
									labelString: ''
								}
							}]
						}
					}							
				});			
			</script>
		";
	}
}
?>