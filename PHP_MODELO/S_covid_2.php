<?php 
$paleta_de_colores=[
	'rgba(60, 100, 148, 0.9)',
	'rgba(150, 61, 59, 0.9)',
	'rgba(121, 146, 68, 0.9)',
	'rgba(99, 77, 126, 0.9)',
	'rgba(57, 134, 155, 0.9)',
	'rgba(194, 117, 53, 0.9)',
	'rgba(120, 120, 120, 0.9)',
	'rgba(60, 100, 148, 0.8)',
	'rgba(150, 61, 59, 0.8)',
	'rgba(121, 146, 68, 0.8)',
	'rgba(99, 77, 126, 0.8)',
	'rgba(57, 134, 155, 0.8)',
	'rgba(194, 117, 53, 0.8)',
	'rgba(120, 120, 120, 0.8)',
	'rgba(60, 100, 148, 0.7)',
	'rgba(150, 61, 59, 0.7)',
	'rgba(121, 146, 68, 0.7)',
	'rgba(99, 77, 126, 0.7)',
	'rgba(57, 134, 155, 0.7)',
	'rgba(194, 117, 53, 0.7)',
	'rgba(120, 120, 120, 0.7)',
	'rgba(60, 100, 148, 0.6)',
	'rgba(150, 61, 59, 0.6)',
	'rgba(121, 146, 68, 0.6)',
	'rgba(99, 77, 126, 0.6)',
	'rgba(57, 134, 155, 0.6)',
	'rgba(194, 117, 53, 0.6)',
	'rgba(120, 120, 120, 0.6)',
	'rgba(60, 100, 148, 0.5)',
	'rgba(150, 61, 59, 0.5)',
	'rgba(121, 146, 68, 0.5)',
	'rgba(99, 77, 126, 0.5)',
	'rgba(57, 134, 155, 0.5)',
	'rgba(194, 117, 53, 0.5)',
	'rgba(120, 120, 120, 0.5)',
	'rgba(60, 100, 148, 0.4)',
	'rgba(150, 61, 59, 0.4)',
	'rgba(121, 146, 68, 0.4)',
	'rgba(99, 77, 126, 0.4)',
	'rgba(57, 134, 155, 0.4)',
	'rgba(194, 117, 53, 0.4)',
	'rgba(120, 120, 120, 0.4)',
	'rgba(60, 100, 148, 0.3)',
	'rgba(150, 61, 59, 0.3)',
	'rgba(121, 146, 68, 0.3)',
	'rgba(99, 77, 126, 0.3)',
	'rgba(57, 134, 155, 0.3)',
	'rgba(194, 117, 53, 0.3)',
	'rgba(120, 120, 120, 0.3)',
	'rgba(60, 100, 148, 0.2)',
	'rgba(150, 61, 59, 0.2)',
	'rgba(121, 146, 68, 0.2)',
	'rgba(99, 77, 126, 0.2)',
	'rgba(57, 134, 155, 0.2)',
	'rgba(194, 117, 53, 0.2)',
	'rgba(120, 120, 120, 0.2)',
	'rgba(60, 100, 148, 0.1)',
	'rgba(150, 61, 59, 0.1)',
	'rgba(121, 146, 68, 0.1)',
	'rgba(99, 77, 126, 0.1)',
	'rgba(57, 134, 155, 0.1)',
	'rgba(194, 117, 53, 0.1)',
	'rgba(120, 120, 120, 0.1)',
	'rgba(60, 100, 148, 0.9)',
	'rgba(150, 61, 59, 0.9)',
	'rgba(121, 146, 68, 0.9)',
	'rgba(99, 77, 126, 0.9)',
	'rgba(57, 134, 155, 0.9)',
	'rgba(194, 117, 53, 0.9)',
	'rgba(120, 120, 120, 0.9)',
	'rgba(60, 100, 148, 0.8)',
	'rgba(150, 61, 59, 0.8)',
	'rgba(121, 146, 68, 0.8)',
	'rgba(99, 77, 126, 0.8)',
	'rgba(57, 134, 155, 0.8)',
	'rgba(194, 117, 53, 0.8)',
	'rgba(120, 120, 120, 0.8)',
	'rgba(60, 100, 148, 0.7)',
	'rgba(150, 61, 59, 0.7)',
	'rgba(121, 146, 68, 0.7)',
	'rgba(99, 77, 126, 0.7)',
	'rgba(57, 134, 155, 0.7)',
	'rgba(194, 117, 53, 0.7)',
	'rgba(120, 120, 120, 0.7)',
	'rgba(60, 100, 148, 0.6)',
	'rgba(150, 61, 59, 0.6)',
	'rgba(121, 146, 68, 0.6)',
	'rgba(99, 77, 126, 0.6)',
	'rgba(57, 134, 155, 0.6)',
	'rgba(194, 117, 53, 0.6)',
	'rgba(120, 120, 120, 0.6)',
	'rgba(60, 100, 148, 0.5)',
	'rgba(150, 61, 59, 0.5)',
	'rgba(121, 146, 68, 0.5)',
	'rgba(99, 77, 126, 0.5)',
	'rgba(57, 134, 155, 0.5)',
	'rgba(194, 117, 53, 0.5)',
	'rgba(120, 120, 120, 0.5)',
	'rgba(60, 100, 148, 0.4)',
	'rgba(150, 61, 59, 0.4)',
	'rgba(121, 146, 68, 0.4)',
	'rgba(99, 77, 126, 0.4)',
	'rgba(57, 134, 155, 0.4)',
	'rgba(194, 117, 53, 0.4)',
	'rgba(120, 120, 120, 0.4)',
	'rgba(60, 100, 148, 0.3)',
	'rgba(150, 61, 59, 0.3)',
	'rgba(121, 146, 68, 0.3)',
	'rgba(99, 77, 126, 0.3)',
	'rgba(57, 134, 155, 0.3)',
	'rgba(194, 117, 53, 0.3)',
	'rgba(120, 120, 120, 0.3)',
	'rgba(60, 100, 148, 0.2)',
	'rgba(150, 61, 59, 0.2)',
	'rgba(121, 146, 68, 0.2)',
	'rgba(99, 77, 126, 0.2)',
	'rgba(57, 134, 155, 0.2)',
	'rgba(194, 117, 53, 0.2)',
	'rgba(120, 120, 120, 0.2)',
	'rgba(60, 100, 148, 0.1)',
	'rgba(150, 61, 59, 0.1)',
	'rgba(121, 146, 68, 0.1)',
	'rgba(99, 77, 126, 0.1)',
	'rgba(57, 134, 155, 0.1)',
	'rgba(194, 117, 53, 0.1)',
	'rgba(120, 120, 120, 0.1)',
	'rgba(60, 100, 148, 0.9)',
	'rgba(150, 61, 59, 0.9)',
	'rgba(121, 146, 68, 0.9)',
	'rgba(99, 77, 126, 0.9)',
	'rgba(57, 134, 155, 0.9)',
	'rgba(194, 117, 53, 0.9)',
	'rgba(120, 120, 120, 0.9)',
	'rgba(60, 100, 148, 0.8)',
	'rgba(150, 61, 59, 0.8)',
	'rgba(121, 146, 68, 0.8)',
	'rgba(99, 77, 126, 0.8)',
	'rgba(57, 134, 155, 0.8)',
	'rgba(194, 117, 53, 0.8)',
	'rgba(120, 120, 120, 0.8)',
	'rgba(60, 100, 148, 0.7)',
	'rgba(150, 61, 59, 0.7)',
	'rgba(121, 146, 68, 0.7)',
	'rgba(99, 77, 126, 0.7)',
	'rgba(57, 134, 155, 0.7)',
	'rgba(194, 117, 53, 0.7)',
	'rgba(120, 120, 120, 0.7)',
	'rgba(60, 100, 148, 0.6)',
	'rgba(150, 61, 59, 0.6)',
	'rgba(121, 146, 68, 0.6)',
	'rgba(99, 77, 126, 0.6)',
	'rgba(57, 134, 155, 0.6)',
	'rgba(194, 117, 53, 0.6)',
	'rgba(120, 120, 120, 0.6)',
	'rgba(60, 100, 148, 0.5)',
	'rgba(150, 61, 59, 0.5)',
	'rgba(121, 146, 68, 0.5)',
	'rgba(99, 77, 126, 0.5)',
	'rgba(57, 134, 155, 0.5)',
	'rgba(194, 117, 53, 0.5)',
	'rgba(120, 120, 120, 0.5)',
	'rgba(60, 100, 148, 0.4)',
	'rgba(150, 61, 59, 0.4)',
	'rgba(121, 146, 68, 0.4)',
	'rgba(99, 77, 126, 0.4)',
	'rgba(57, 134, 155, 0.4)',
	'rgba(194, 117, 53, 0.4)',
	'rgba(120, 120, 120, 0.4)',
	'rgba(60, 100, 148, 0.3)',
	'rgba(150, 61, 59, 0.3)',
	'rgba(121, 146, 68, 0.3)',
	'rgba(99, 77, 126, 0.3)',
	'rgba(57, 134, 155, 0.3)',
	'rgba(194, 117, 53, 0.3)',
	'rgba(120, 120, 120, 0.3)',
	'rgba(60, 100, 148, 0.2)',
	'rgba(150, 61, 59, 0.2)',
	'rgba(121, 146, 68, 0.2)',
	'rgba(99, 77, 126, 0.2)',
	'rgba(57, 134, 155, 0.2)',
	'rgba(194, 117, 53, 0.2)',
	'rgba(120, 120, 120, 0.2)',
	'rgba(60, 100, 148, 0.1)',
	'rgba(150, 61, 59, 0.1)',
	'rgba(121, 146, 68, 0.1)',
	'rgba(99, 77, 126, 0.1)',
	'rgba(57, 134, 155, 0.1)',
	'rgba(194, 117, 53, 0.1)',
	'rgba(120, 120, 120, 0.1)',
	'rgba(60, 100, 148, 0.9)',
	'rgba(150, 61, 59, 0.9)',
	'rgba(121, 146, 68, 0.9)',
	'rgba(99, 77, 126, 0.9)',
	'rgba(57, 134, 155, 0.9)',
	'rgba(194, 117, 53, 0.9)',
	'rgba(120, 120, 120, 0.9)',
	'rgba(60, 100, 148, 0.8)',
	'rgba(150, 61, 59, 0.8)',
	'rgba(121, 146, 68, 0.8)',
	'rgba(99, 77, 126, 0.8)',
	'rgba(57, 134, 155, 0.8)',
	'rgba(194, 117, 53, 0.8)',
	'rgba(120, 120, 120, 0.8)',
	'rgba(60, 100, 148, 0.7)',
	'rgba(150, 61, 59, 0.7)',
	'rgba(121, 146, 68, 0.7)',
	'rgba(99, 77, 126, 0.7)',
	'rgba(57, 134, 155, 0.7)',
	'rgba(194, 117, 53, 0.7)',
	'rgba(120, 120, 120, 0.7)',
	'rgba(60, 100, 148, 0.6)',
	'rgba(150, 61, 59, 0.6)',
	'rgba(121, 146, 68, 0.6)',
	'rgba(99, 77, 126, 0.6)',
	'rgba(57, 134, 155, 0.6)',
	'rgba(194, 117, 53, 0.6)',
	'rgba(120, 120, 120, 0.6)',
	'rgba(60, 100, 148, 0.5)',
	'rgba(150, 61, 59, 0.5)',
	'rgba(121, 146, 68, 0.5)',
	'rgba(99, 77, 126, 0.5)',
	'rgba(57, 134, 155, 0.5)',
	'rgba(194, 117, 53, 0.5)',
	'rgba(120, 120, 120, 0.5)',
	'rgba(60, 100, 148, 0.4)',
	'rgba(150, 61, 59, 0.4)',
	'rgba(121, 146, 68, 0.4)',
	'rgba(99, 77, 126, 0.4)',
	'rgba(57, 134, 155, 0.4)',
	'rgba(194, 117, 53, 0.4)',
	'rgba(120, 120, 120, 0.4)',
	'rgba(60, 100, 148, 0.3)',
	'rgba(150, 61, 59, 0.3)',
	'rgba(121, 146, 68, 0.3)',
	'rgba(99, 77, 126, 0.3)',
	'rgba(57, 134, 155, 0.3)',
	'rgba(194, 117, 53, 0.3)',
	'rgba(120, 120, 120, 0.3)',
	'rgba(60, 100, 148, 0.2)',
	'rgba(150, 61, 59, 0.2)',
	'rgba(121, 146, 68, 0.2)',
	'rgba(99, 77, 126, 0.2)',
	'rgba(57, 134, 155, 0.2)',
	'rgba(194, 117, 53, 0.2)',
	'rgba(120, 120, 120, 0.2)',
	'rgba(60, 100, 148, 0.1)',
	'rgba(150, 61, 59, 0.1)',
	'rgba(121, 146, 68, 0.1)',
	'rgba(99, 77, 126, 0.1)',
	'rgba(57, 134, 155, 0.1)',
	'rgba(194, 117, 53, 0.1)',
	'rgba(120, 120, 120, 0.1)'
];


//IMPRIME LAS GRAFICAS PARA COVID-19 POR PAIS
//"https://api.covid19api.com/all"
//"https://api.covid19api.com/countries"
//"https://api.covid19api.com/summary"
//"https://api.covid19api.com/webhook"
//"https://api.covid19api.com/export"
//"https://api.covid19api.com/dayone/country/:slug"
//"https://api.covid19api.com/total/dayone/country/:slug"
//"https://api.covid19api.com/country/:slug"
//"https://api.covid19api.com/dayone/country/:slug/status/:status/live"
//"https://api.covid19api.com/dayone/country/:slug/status/:status/"
//"https://api.covid19api.com/total/dayone/country/:slug/status/:status/"
//"https://api.covid19api.com/country/:slug/status/:status/live"
//"https://api.covid19api.com/country/:slug/status/:status"
//"https://api.covid19api.com/total/country/:slug/status/:status"
//"https://api.covid19api.com/total/country/:slug"
//"https://api.covid19api.com/live/country/:slug"
//"https://api.covid19api.com/live/country/:slug/status/:status/date/:date"
//"https://api.covid19api.com/live/country/:slug/status/:status"

if(isset($_POST['pais'])){
	$pais=$_POST['pais'];
	require_once ("M_todos.php");
	//OBTENIENDO DATOS PARA GRAFICAS DE BARRAS
	if($pais=="CN"){
		$url_prueba= "https://api.covid19api.com/dayone/country/". $pais;
	}else{
		$url_prueba= "https://api.covid19api.com/total/dayone/country/". $pais;
	}
	$curl_2=curl_init();
	curl_setopt_array($curl_2, array(
		CURLOPT_URL => $url_prueba,
		CURLOPT_RETURNTRANSFER => true,
		CURLOPT_ENCODING => "",
		CURLOPT_MAXREDIRS => 10,
		CURLOPT_TIMEOUT => 0,
		CURLOPT_FOLLOWLOCATION => true,
		CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,
		CURLOPT_CUSTOMREQUEST => "GET",
	));
	$resp_2=curl_exec($curl_2);
	curl_close($curl_2);
	$resp_decode_2=(array) json_decode($resp_2, true);
	mysqli_close($conexion);
	//CORRIGIENDO FECHAS DUPLICADAS
	$resp_corr[0]["Country"]='';
	$resp_corr[0]["Date"]='';
	$resp_corr[0]["Confirmed"]='';
	$resp_corr[0]["Deaths"]='';
	$resp_corr[0]["Recovered"]='';
	$i=0;
	$e=0;
	while(isset($resp_decode_2[$i]["Country"])){
		if($i==0){
			$resp_corr[$e]["Country"]=$resp_decode_2[$i]["Country"];
			$fecha_ii=explode("T", $resp_decode_2[$i]["Date"]);
			$resp_corr[$e]["Date"]=$fecha_ii[0];
			$resp_corr[$e]["Confirmed"]=$resp_decode_2[$i]["Confirmed"];
			$resp_corr[$e]["Deaths"]=$resp_decode_2[$i]["Deaths"];
			$resp_corr[$e]["Recovered"]=$resp_decode_2[$i]["Recovered"];
		}else{
			$fecha_act=explode("T", $resp_decode_2[$i]["Date"]);
			$fecha_ant=explode("T", $resp_decode_2[$i-1]["Date"]);
			if($fecha_act<>$fecha_ant){
				$e++;
				$resp_corr[$e]["Country"]=$resp_decode_2[$i]["Country"];
				$fecha_ii=explode("T", $resp_decode_2[$i]["Date"]);
				$resp_corr[$e]["Date"]=$fecha_ii[0];
				$resp_corr[$e]["Confirmed"]=$resp_decode_2[$i]["Confirmed"];
				$resp_corr[$e]["Deaths"]=$resp_decode_2[$i]["Deaths"];
				$resp_corr[$e]["Recovered"]=$resp_decode_2[$i]["Recovered"];
			}else{
				$resp_corr[$e]["Confirmed"]=$resp_corr[$e]["Confirmed"]+$resp_decode_2[$i]["Confirmed"];
				$resp_corr[$e]["Deaths"]=$resp_corr[$e]["Deaths"]+$resp_decode_2[$i]["Deaths"];
				$resp_corr[$e]["Recovered"]=$resp_corr[$e]["Recovered"]+$resp_decode_2[$i]["Recovered"];
			}
		}
		$i++;
	}
	
	//DEPURANDO DATOS PARA LAS GRÁFICAS
	$datos[0]['FECHA']="";
	$datos[0]['TOTAL_CASOS']=0;
	$datos[0]['TOTAL_MUERTES']=0;
	$datos[0]['TOTAL_RECUPERADOS']=0;
	$datos[0]['TOTAL_ACTIVOS']=0;
	$datos[0]['PUNTUAL_CASOS']=0;
	$datos[0]['PUNTUAL_MUERTES']=0;
	$datos[0]['PUNTUAL_RECUPERADOS']=0;
	$i=0;
	while(isset($resp_corr[$i]["Country"])){
		$datos[$i]['FECHA']=$resp_corr[$i]["Date"];
		if($i==0){
			$datos[$i]['TOTAL_CASOS']=$resp_corr[$i]["Confirmed"];
			$datos[$i]['TOTAL_MUERTES']=$resp_corr[$i]["Deaths"];
			$datos[$i]['TOTAL_RECUPERADOS']=$resp_corr[$i]["Recovered"];
		}else{
			if($resp_corr[$i]["Confirmed"]<$datos[$i-1]['TOTAL_CASOS']){
				$datos[$i]['TOTAL_CASOS']=$datos[$i-1]['TOTAL_CASOS'];
			}else{
				$datos[$i]['TOTAL_CASOS']=$resp_corr[$i]["Confirmed"];
			}
			if($resp_corr[$i]["Deaths"]<$datos[$i-1]['TOTAL_MUERTES']){
				$datos[$i]['TOTAL_MUERTES']=$datos[$i-1]['TOTAL_MUERTES'];
			}else{
				$datos[$i]['TOTAL_MUERTES']=$resp_corr[$i]["Deaths"];
			}
			if($resp_corr[$i]["Recovered"]<$datos[$i-1]['TOTAL_RECUPERADOS']){
				$datos[$i]['TOTAL_RECUPERADOS']=$datos[$i-1]['TOTAL_RECUPERADOS'];
			}else{
				$datos[$i]['TOTAL_RECUPERADOS']=$resp_corr[$i]["Recovered"];
			}
		}
		if($datos[$i]['TOTAL_CASOS']-$datos[$i]['TOTAL_MUERTES']-$datos[$i]['TOTAL_RECUPERADOS']<0){
			$datos[$i]['TOTAL_RECUPERADOS']=$datos[$i]['TOTAL_CASOS']-$datos[$i]['TOTAL_MUERTES'];
		}
		$datos[$i]['TOTAL_ACTIVOS']=$datos[$i]['TOTAL_CASOS']-$datos[$i]['TOTAL_MUERTES']-$datos[$i]['TOTAL_RECUPERADOS'];
		if($i==0){
			$datos[$i]['PUNTUAL_CASOS']=$datos[$i]['TOTAL_CASOS'];
			$datos[$i]['PUNTUAL_MUERTES']=$datos[$i]['TOTAL_MUERTES'];
			$datos[$i]['PUNTUAL_RECUPERADOS']=$datos[$i]['TOTAL_RECUPERADOS'];
		}else{
			$datos[$i]['PUNTUAL_CASOS']=$datos[$i]['TOTAL_CASOS']-$datos[$i-1]['TOTAL_CASOS'];
			$datos[$i]['PUNTUAL_MUERTES']=$datos[$i]['TOTAL_MUERTES']-$datos[$i-1]['TOTAL_MUERTES'];
			$datos[$i]['PUNTUAL_RECUPERADOS']=$datos[$i]['TOTAL_RECUPERADOS']-$datos[$i-1]['TOTAL_RECUPERADOS'];
		}
		$i++;
	}
	$largo_datos=$i-1;
	echo "
		<h5 class='text-center'>Código del País:<br><b>" . $pais . "</b></h5>
		<div class='row'>
			<div class='col-sm-6 pb-2'>
				<h6 class='text-center'><br>Nuevos Casos: <b>" . number_format($datos[$largo_datos]['PUNTUAL_CASOS'], 0,'.',',') . "</b><br>Nuevas Muertes: <b>" .  number_format($datos[$largo_datos]['PUNTUAL_MUERTES'], 0,'.',',') . "</b><br>Nuevos Recuperados: <b>" .  number_format($datos[$largo_datos]['PUNTUAL_RECUPERADOS'], 0,'.',',') . "</b><br></h6>
				<canvas id='graf_puntual' class='border border-secondary'></canvas>
			</div>
			<div class='col-sm-6 pb-2'>
				<h6 class='text-center'>Total de Casos: <b>" . number_format($datos[$largo_datos]['TOTAL_CASOS'], 0,'.',',') . "</b><br>Total de Muertes: <b>" . number_format($datos[$largo_datos]['TOTAL_MUERTES'], 0,'.',',') . "</b><br>Total Recuperados: <b>" . number_format($datos[$largo_datos]['TOTAL_RECUPERADOS'], 0,'.',',') . "</b><br>Total Activos: <b>" . number_format($datos[$largo_datos]['TOTAL_ACTIVOS'], 0,'.',',') . "</b></h6>
				<canvas id='graf_acum' class='border border-secondary'></canvas>
			</div>
		</div>
	";
	echo "
		<script>
			var ctx = document.getElementById('graf_puntual').getContext('2d');
			var chart = new Chart(ctx, {
				type: 'bar',
				data: {
					labels: [";
	$i=0;
	while(isset($datos[$i]['FECHA'])){
		echo "'" . $datos[$i]['FECHA'] . "'";
		if(isset($datos[$i+1]['FECHA'])){
			echo ",";
		}
		$i++;
	}
	echo "          ],
					datasets: [{
						label: 'Casos',
						borderColor: 'rgb(60, 100, 148, 1)',
						backgroundColor: 'rgb(60, 100, 148, 0.8)',
						data: [
	";
	$i=0;
	while(isset($datos[$i]['FECHA'])){
		echo "'" . $datos[$i]['PUNTUAL_CASOS'] . "'";
		if(isset($datos[$i+1]['FECHA'])){
			echo ",";
		}
		$i++;
	}
	echo "
						]
					},
					{
						label: 'Muertes',
						borderColor: 'rgb(150, 61, 59, 1)',
						backgroundColor: 'rgb(150, 61, 59, 0.8)',
						data: [
	";
	$i=0;
	while(isset($datos[$i]['FECHA'])){
		echo "'" . $datos[$i]['PUNTUAL_MUERTES'] . "'";
		if(isset($datos[$i+1]['FECHA'])){
			echo ",";
		}
		$i++;
	}
	echo "
						]
					},
					{
						label: 'Recuperados',
						borderColor: 'rgb(39, 113, 3, 1)',
						backgroundColor: 'rgb(39, 113, 3, 0.8)',
						data: [
	";
	$i=0;
	while(isset($datos[$i]['FECHA'])){
		echo "'" . $datos[$i]['PUNTUAL_RECUPERADOS'] . "'";
		if(isset($datos[$i+1]['FECHA'])){
			echo ",";
		}
		$i++;
	}
	echo "
						]
					}]
				},
				options: {
					responsive: true,
					title: {
						display: true,
						text: 'Datos diarios Puntuales'
					},
					tooltips: {
						mode: 'index',
						intersect: false,
					},
					hover: {
						mode: 'nearest',
						intersect: true
					},
					scales: {
						xAxes: [{
							display: false,
							scaleLabel: {
								display: true,
								labelString: 'dia'
							}
						}],
						yAxes: [{
							display: false,
							scaleLabel: {
								display: true,
								labelString: ''
							}
						}]
					}
				}							
			});			
		</script>
	";
	echo "
		<script>
			var ctx = document.getElementById('graf_acum').getContext('2d');
			var chart = new Chart(ctx, {
				type: 'bar',
				data: {
					labels: [";
	$i=0;
	while(isset($datos[$i]['FECHA'])){
		echo "'" . $datos[$i]['FECHA'] . "'";
		if(isset($datos[$i+1]['FECHA'])){
			echo ",";
		}
		$i++;
	}
	echo "          ],
					datasets: [{
						label: 'Casos',
						borderColor: 'rgb(60, 100, 148, 1)',
						backgroundColor: 'rgb(60, 100, 148, 0.8)',
						data: [
	";
	$i=0;
	while(isset($datos[$i]['FECHA'])){
		echo "'" . $datos[$i]['TOTAL_CASOS'] . "'";
		if(isset($datos[$i+1]['FECHA'])){
			echo ",";
		}
		$i++;
	}
	echo "
						]
					},
					{
						label: 'Muertes',
						borderColor: 'rgb(150, 61, 59, 1)',
						backgroundColor: 'rgb(150, 61, 59, 0.8)',
						data: [
	";
	$i=0;
	while(isset($datos[$i]['FECHA'])){
		echo "'" . $datos[$i]['TOTAL_MUERTES'] . "'";
		if(isset($datos[$i+1]['FECHA'])){
			echo ",";
		}
		$i++;
	}
	echo "
						]
					},
					{
						label: 'Recuperados',
						borderColor: 'rgb(39, 113, 3, 1)',
						backgroundColor: 'rgb(39, 113, 3, 0.8)',
						data: [
	";
	$i=0;
	while(isset($datos[$i]['FECHA'])){
		echo "'" . $datos[$i]['TOTAL_RECUPERADOS'] . "'";
		if(isset($datos[$i+1]['FECHA'])){
			echo ",";
		}
		$i++;
	}
	echo "
						]
					},
					{
						label: 'Activos',
						borderColor: 'rgb(255, 134, 35, 1)',
						backgroundColor: 'rgb(255, 134, 35, 0.8)',
						data: [
	";
	$i=0;
	while(isset($datos[$i]['FECHA'])){
		echo "'" . $datos[$i]['TOTAL_ACTIVOS'] . "'";
		if(isset($datos[$i+1]['FECHA'])){
			echo ",";
		}
		$i++;
	}
	echo "
						]
					}]
				},
				options: {
					responsive: true,
					title: {
						display: true,
						text: 'Datos diarios Acumulados'
					},
					tooltips: {
						mode: 'index',
						intersect: false,
					},
					hover: {
						mode: 'nearest',
						intersect: true
					},
					scales: {
						xAxes: [{
							display: false,
							scaleLabel: {
								display: true,
								labelString: 'dia'
							}
						}],
						yAxes: [{
							display: false,
							scaleLabel: {
								display: true,
								labelString: ''
							}
						}]
					}
				}							
			});			
		</script>
	";
}


?>